# Scripts

## setup_deps.

This script sets up the Arduino IDE for ESP32 development, for mac and linux computers.

To run the script, use the following command in your terminal:

```bash
cd path/to/your/repo
sh scripts/setup_deps.sh
```

## format.sh

This scripts formats the selected sketch files using `clang-format`. It recursively searches for all `.cpp` and `.h` files in the selected sketch and applies the formatting rules defined in the `.clang-format` configuration file.

### options

`<sketch_path>`: The path to the sketch you want to format. If not provided, the script will default to the `QuantumDice` sketch.


To run the script, use the following command in your terminal:

```bash
cd path/to/your/repo
sh scripts/format.sh
```

To run the script with a specific sketch path, use:

```bash
cd path/to/your/repo
sh scripts/format.sh path/to/sketch
```

## lint.sh

This script checks the codebase for style issues using `clang-tidy`. It recursively searches for all `.cpp` and `.h` files in the selected sketch and runs `clang-tidy` on each file to identify potential issues.

### options

`<sketch_path>`: The path to the sketch you want to lint. If not provided, the script will default to the `QuantumDice` sketch.

To run the script, use the following command in your terminal:

```bash
cd path/to/your/repo
sh scripts/lint.sh
```

To run the script with a specific sketch path, use:

```bash
cd path/to/your/repo
sh scripts/lint.sh path/to/directory
```

## sanitise_compile_commands.py

This script sanitises the `compile_commands.json` file generated by the Arduino IDE for ESP32 development. It removes unnecessary flags and options that may interfere with code analysis tools like `clang-tidy`.

To run the script, use the following command in your terminal:

```bash
cd path/to/your/repo
python3 scripts/sanitise_compile_commands.py
```

This will read the `compile_commands.json` file in the current directory, sanitise it, and write the output to a new file named `compile_commands_sanitised.json`.

Do note that this script is not intended to be run directly by users, but rather as part of the linting process.
