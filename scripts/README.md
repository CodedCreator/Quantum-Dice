# Scripts

## format.sh

This scripts formats the selected sketch files using `clang-format`. It recursively searches for all `.cpp` and `.h` files in the selected sketch and applies the formatting rules defined in the `.clang-format` configuration file.

### options

`<sketch_path>`: The path to the sketch you want to format. If not provided, the script will default to the `QuantumDice` sketch.

To run the script, use the following command in your terminal:

```bash
cd path/to/your/repo
sh scripts/format.sh
```

To run the script with a specific sketch path, use:

```bash
cd path/to/your/repo
sh scripts/format.sh path/to/sketch
```

## clean_compile_commands.py

This script sanitises the `compile_commands.json` file generated by the Arduino IDE for ESP32 development. It removes unnecessary flags and options that may interfere with code analysis tools like `clang-tidy`.

To run the script, use the following command in your terminal:

```bash
cd path/to/your/repo
python3 scripts/clean_compile_commands.py path/to/your/compile_commands.json
```

This will read the `compile_commands.json` file, clean it, and write the output to the same file.
